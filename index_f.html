<html>
<!--
test URL: https://auth.test.appcard.com/authorize?client_id=m2m-client-test-4f155389-ec66-4ccc-a739-bae6c4fc2d2a&response_type=code&scope=openid&state=274322b9-ea1d-459e-8c32-b4df9f513013&redirect_uri=app2.silent-callback.html&nonce=b2b0a38d-2e05-4944-bb47-ecb6c511eb5f
-->

<script type="module" src="./appcard.sdk.sso-listener.js"></script>
<body>
  <h1>SSO Listener</h1>

  <div id="status">Checking login status...</div>

  <appcard-sso-listener 
    clientId="m2m-client-test-4f155389-ec66-4ccc-a739-bae6c4fc2d2a"
    onAuthCodeReceived="receivedAuthCode"
  />

  <script>

    function receivedAuthCode(code) {
        console.log("Received auth code:", code);
        if (code)
            document.getElementById("status").innerText = "You are logged in. Received auth code: " + code;
        else 
            document.getElementById("status").innerText = "You are not logged in.";
    }

  </script>
</body>
</html>
